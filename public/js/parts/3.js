(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{BQuk:function(t,e,n){"use strict";var s=n("FtaN").a,i=n("KHd+"),a=Object(i.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-autosuggest",{ref:"autocomplete",attrs:{suggestions:t.suggestions,"input-props":t.inputProps,"section-configs":t.sectionConfigs,"get-suggestion-value":t.getSuggestionValue},on:{input:t.fetchResults},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.suggestion;return[n("p",[t._v(t._s(s.item[t.field]))])]}}]),model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})}),[],!1,null,null,null);e.a=a.exports},E7jC:function(t,e,n){"use strict";var s={name:"TrashedMessage",components:{Icon:n("cv7c").a}},i=n("KHd+"),a=Object(i.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-4 bg-yellow-400 rounded flex items-center justify-between max-w-3xl"},[n("div",{staticClass:"flex items-center"},[n("icon",{staticClass:"flex-shrink-0 w-4 h-4 fill-yellow-800 mr-2",attrs:{icon:"delete"}}),t._v(" "),n("div",{staticClass:"text-sm font-medium text-yellow-800"},[t._t("default")],2)],1),t._v(" "),n("button",{staticClass:"text-sm text-yellow-800 hover:underline",attrs:{tabindex:"-1",type:"button"},on:{click:function(e){return t.$emit("restore")}}},[t._v("\n        Restore\n    ")])])}),[],!1,null,null,null);e.a=a.exports},FtaN:function(t,e,n){"use strict";(function(t){var s=n("KDFj"),i=window.axios;e.a={name:"AutoComplete",components:{VueAutosuggest:s.a},props:{model:{type:String,default:null,required:!0},field:{type:String,default:"name"},placeholder:{type:String,default:"Search for something!"},defaultData:{type:String,default:""}},data:function(){var t=this;return{query:"",results:[],timeout:null,selected:null,baseUrl:"/api/autocomplete",inputProps:{id:"autosuggest__input-".concat(this._uid),placeholder:this.placeholder,class:"form-input block w-full sm:text-sm sm:leading-5",name:"auto-suggest"},suggestions:[],sectionConfigs:{default:{limit:6,label:"",onSelected:function(e){t.selected=e.item,t.$emit("autocomplete-select",t.selected)}}}}},mounted:function(){this.query=this.defaultData},methods:{fetchResults:t.debounce((function(){var t=this;this.suggestions=[],this.selected=null;var e="".concat(this.baseUrl,"/").concat(this.model,"?field=").concat(this.field,"&q=").concat(this.query);i.get(e).then((function(e){e.data.length&&(t.suggestions=[e])}))}),250),getSuggestionValue:function(t){return t.item[this.field]}}}}).call(this,n("LvDl"))},KDFj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var s={name:"default-section",props:{section:{type:Object,required:!0},currentIndex:{type:[Number,String],required:!1,default:1/0},renderSuggestion:{type:Function,required:!1},normalizeItemFunction:{type:Function,required:!0}},data:function(){return{_currentIndex:null}},computed:{list:function(){var t=this.section,e=t.limit,n=t.data;return n.length<e&&(e=n.length),n.slice(0,e)}},methods:{getItemIndex:function(t){return this.section.start_index+t},getItemByIndex:function(t){return this.section.data[t]},onMouseEnter:function(t){var e=t.currentTarget.getAttribute("data-suggestion-index");this._currentIndex=e,this.$emit("updateCurrentIndex",e)},onMouseLeave:function(){this.$emit("updateCurrentIndex",null)}},render:function(t){var e=this,n={beforeSection:this.$scopedSlots["before-section-"+this.section.name],afterSectionDefault:this.$scopedSlots["after-section"],afterSectionNamed:this.$scopedSlots["after-section-"+this.section.name]},s="autosuggest__results-before autosuggest__results-before--"+this.section.name,i=n.beforeSection&&n.beforeSection({section:this.section,className:s})||[];return t("ul",{attrs:{role:"listbox","aria-labelledby":"autosuggest"}},[i[0]&&i[0]||this.section.label&&t("li",{class:s},this.section.label)||"",this.list.map((function(n,s){var i=e.normalizeItemFunction(e.section.name,e.section.type,e.section.label,n);return t("li",{attrs:{role:"option","data-suggestion-index":e.getItemIndex(s),"data-section-name":e.section.name,id:"autosuggest__results-item--"+e.getItemIndex(s)},key:e.getItemIndex(s),class:{"autosuggest__results-item--highlighted":e.getItemIndex(s)==e._currentIndex,"autosuggest__results-item":!0},on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[e.renderSuggestion?e.renderSuggestion(i):e.$scopedSlots.default&&e.$scopedSlots.default({_key:s,suggestion:i})])})),n.afterSectionDefault&&n.afterSectionDefault({section:this.section,className:"autosuggest__results-after autosuggest__results-after--"+this.section.name}),n.afterSectionNamed&&n.afterSectionNamed({section:this.section,className:"autosuggest__results_after autosuggest__results-after--"+this.section.name})])}};function i(t,e){(function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))})(t,e)||(t.className+=" "+e)}var a="default",r="default-section",o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:t.componentAttrIdAutosuggest}},[t._t("before-input"),n("input",t._g(t._b({class:[t.isOpen?"autosuggest__input--open":"",t.internal_inputProps.class],attrs:{type:t.internal_inputProps.type,autocomplete:t.internal_inputProps.autocomplete,role:"combobox","aria-autocomplete":"list","aria-owns":"autosuggest__results","aria-activedescendant":t.isOpen&&null!==t.currentIndex?"autosuggest__results-item--"+t.currentIndex:"","aria-haspopup":t.isOpen?"true":"false","aria-expanded":t.isOpen?"true":"false"},domProps:{value:t.internalValue},on:{input:t.inputHandler,keydown:t.handleKeyStroke}},"input",t.internal_inputProps,!1),t.listeners)),t._t("after-input"),t._v(" "),n("div",{class:t.componentAttrClassAutosuggestResultsContainer},[t.isOpen?n("div",{class:t.componentAttrClassAutosuggestResults,attrs:{"aria-labelledby":t.componentAttrIdAutosuggest}},[t._t("before-suggestions"),t._v(" "),t._l(t.computedSections,(function(e,s){return n(e.type,{key:t.getSectionRef(s),ref:t.getSectionRef(s),refInFor:!0,tag:"component",attrs:{"current-index":t.currentIndex,"normalize-item-function":t.normalizeItem,"render-suggestion":t.renderSuggestion,section:e},on:{updateCurrentIndex:t.updateCurrentIndex},scopedSlots:t._u([{key:"before-section-"+(e.name||e.label),fn:function(n){var s=n.section,i=n.className;return[t._t("before-section-"+(e.name||e.label),null,{section:s,className:i})]}},{key:"default",fn:function(e){var n=e.suggestion,s=e._key;return[t._t("default",[t._v(" "+t._s(n.item)+" ")],{suggestion:n,index:s})]}},{key:"after-section-"+(e.name||e.label),fn:function(n){var s=n.section;return[t._t("after-section-"+(e.name||e.label),null,{section:s})]}},{key:"after-section",fn:function(e){var n=e.section;return[t._t("after-section",null,{section:n})]}}])})})),t._v(" "),t._t("after-suggestions")],2):t._e()])],2)},staticRenderFns:[],name:"Autosuggest",components:{DefaultSection:s},props:{value:{type:String,default:null},inputProps:{type:Object,required:!0},limit:{type:Number,required:!1,default:1/0},suggestions:{type:Array,required:!0},renderSuggestion:{type:Function,required:!1,default:null},getSuggestionValue:{type:Function,required:!1,default:function(t){var e=t.item;return"object"==typeof e&&e.hasOwnProperty("name")?e.name:e}},shouldRenderSuggestions:{type:Function,required:!1,default:function(t,e){return t>0&&!e}},sectionConfigs:{type:Object,required:!1,default:function(){return{default:{onSelected:null}}}},onSelected:{type:Function,required:!1,default:null},componentAttrIdAutosuggest:{type:String,required:!1,default:"autosuggest"},componentAttrClassAutosuggestResultsContainer:{type:String,required:!1,default:"autosuggest__results-container"},componentAttrClassAutosuggestResults:{type:String,required:!1,default:"autosuggest__results"}},data:function(){return{internalValue:null,searchInputOriginal:null,currentIndex:null,currentItem:null,loading:!1,didSelectFromOptions:!1,defaultInputProps:{type:"text",autocomplete:"off"},clientXMouseDownInitial:null}},computed:{internal_inputProps:function(){return Object.assign({},this.defaultInputProps,this.inputProps)},listeners:function(){var t=this;return Object.assign({},this.$listeners,{input:function(t){},click:function(){t.loading=!1,t.$listeners.click&&t.$listeners.click(t.currentItem),t.ensureItemVisible(t.currentItem,t.currentIndex)},selected:function(){t.currentItem&&t.sectionConfigs[t.currentItem.name]&&t.sectionConfigs[t.currentItem.name].onSelected?t.sectionConfigs[t.currentItem.name].onSelected(t.currentItem,t.searchInputOriginal):t.sectionConfigs.default.onSelected?t.sectionConfigs.default.onSelected(null,t.searchInputOriginal):t.$listeners.selected&&t.$emit("selected",t.currentItem),t.setChangeItem(null)}})},isOpen:function(){return this.shouldRenderSuggestions(this.totalResults,this.loading)},computedSections:function(){var t=this,e=0;return this.suggestions.map((function(n){if(n.data){var s,i,o=n.name?n.name:a,l=null;t.sectionConfigs[o]&&(s=t.sectionConfigs[o].limit,l=t.sectionConfigs[o].type,i=t.sectionConfigs[o].label),l=l||r,s=(s=s||t.limit)||1/0,s=n.data.length<s?n.data.length:s;var c={name:o,label:i=i||n.label,type:l,limit:s,data:n.data,start_index:e,end_index:e+s-1};return e+=s,c}}))},totalResults:function(){return this.computedSections.reduce((function(t,e){if(!e)return t;var n=e.limit,s=e.data;return t+(s.length>=n?n:s.length)}),0)}},watch:{value:{handler:function(t){this.internalValue=t},immediate:!0}},created:function(){this.loading=!0},mounted:function(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("mousedown",this.onDocumentMouseDown)},beforeDestroy:function(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousedown",this.onDocumentMouseDown)},methods:{inputHandler:function(t){var e=t.target.value;this.$emit("input",e),this.internalValue=e,this.didSelectFromOptions||(this.searchInputOriginal=e,this.currentIndex=null)},getSectionRef:function(t){return"computed_section_"+t},getItemByIndex:function(t){var e=!1;if(null===t)return e;for(var n=0;n<this.computedSections.length;n++)if(t>=this.computedSections[n].start_index&&t<=this.computedSections[n].end_index){var s=t-this.computedSections[n].start_index,i=this.$refs["computed_section_"+n][0];if(i){e=this.normalizeItem(this.computedSections[n].name,this.computedSections[n].type,i.section.label,i.getItemByIndex(s));break}}return e},handleKeyStroke:function(t){var e=t.keyCode;if(!([16,9,18,91,93].indexOf(e)>-1))switch(this.loading=!1,this.didSelectFromOptions=!1,e){case 40:case 38:if(t.preventDefault(),this.isOpen){if(38===e&&null===this.currentIndex)break;var n=40===e?1:-1,s=parseInt(this.currentIndex)+n;this.setCurrentIndex(s,this.totalResults),this.didSelectFromOptions=!0,this.totalResults>0&&this.currentIndex>=0?(this.setChangeItem(this.getItemByIndex(this.currentIndex)),this.didSelectFromOptions=!0):-1==this.currentIndex&&(this.currentIndex=null,this.internalValue=this.searchInputOriginal,t.preventDefault())}break;case 13:t.preventDefault(),this.totalResults>0&&this.currentIndex>=0&&(this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.didSelectFromOptions=!0),this.loading=!0,this.listeners.selected(this.didSelectFromOptions);break;case 27:this.isOpen&&(this.loading=!0,this.currentIndex=null,this.internalValue=this.searchInputOriginal,this.$emit("input",this.searchInputOriginal),t.preventDefault())}},setChangeItem:function(t,e){if(void 0===e&&(e=!1),null!==this.currentIndex&&t){if(t){this.currentItem=t;var n=this.getSuggestionValue(t);this.internalValue=n,e&&(this.searchInputOriginal=n),this.ensureItemVisible(t,this.currentIndex)}}else this.currentItem=null},normalizeItem:function(t,e,n,s){return{name:t,type:e,label:n,item:s}},ensureItemVisible:function(t,e){var n=this.$el.querySelector("."+this.componentAttrClassAutosuggestResults);if(t&&(e||0===e)&&n){var s=this.$el.querySelector("#autosuggest__results-item--"+e);if(s){var i=n.clientHeight,a=n.scrollTop,r=s.clientHeight,o=s.offsetTop;r+o>=a+i?n.scrollTop=r+o-i:o<a&&a>0&&(n.scrollTop=o)}}},updateCurrentIndex:function(t){this.setCurrentIndex(t,-1,!0)},clickedOnScrollbar:function(t,e){var n=this.$el.querySelector("."+this.componentAttrClassAutosuggestResults),s=n&&n.clientWidth<=e+17&&e+17<=n.clientWidth+34;return"DIV"===t.target.tagName&&n&&s||!1},onDocumentMouseDown:function(t){var e=t.target.getBoundingClientRect?t.target.getBoundingClientRect():0;this.clientXMouseDownInitial=t.clientX-e.left},onDocumentMouseUp:function(t){if(!this.$el.contains(t.target))return this.loading=!0,void(this.currentIndex=null);"INPUT"===t.target.tagName||this.clickedOnScrollbar(t,this.clientXMouseDownInitial)||(this.loading=!0,this.didSelectFromOptions=!0,this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.listeners.selected(!0))},setCurrentIndex:function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=!1);var s=t;n||(null===this.currentIndex||t>=e)&&(s=0),this.currentIndex=s;var a=this.$el.querySelector("#autosuggest__results-item--"+this.currentIndex),r="autosuggest__results-item--highlighted";this.$el.querySelector("."+r)&&function(t,e){t.classList&&t.classList.remove(e)}(this.$el.querySelector("."+r),r),a&&i(a,r)}}},l={install:function(t){t.component("vue-autosuggest-default-section",s),t.component("vue-autosuggest",o)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(l)},NvZ5:function(t,e,n){"use strict";var s={name:"QuickAccess",components:{"campaign.browse":function(){return n.e(36).then(n.bind(null,"FcqT"))},"character.browse":function(){return n.e(37).then(n.bind(null,"+bBS"))},"npc.browse":function(){return n.e(38).then(n.bind(null,"Ie9m"))},"faction.browse":function(){return n.e(39).then(n.bind(null,"iVJw"))},"location.browse":function(){return n.e(40).then(n.bind(null,"hVIe"))},"task.browse":function(){return n.e(41).then(n.bind(null,"9vvT"))},"campaign.read":function(){return n.e(44).then(n.bind(null,"qIVb"))},"character.read":function(){return n.e(42).then(n.bind(null,"8fl7"))},"faction.read":function(){return n.e(49).then(n.bind(null,"PMDb"))},"location.read":function(){return n.e(52).then(n.bind(null,"6sHe"))},"task.read":function(){return n.e(55).then(n.bind(null,"9XVy"))},"campaign.edit":function(){return Promise.resolve().then(n.bind(null,"rV0r"))},"character.edit":function(){return n.e(46).then(n.bind(null,"0lbY"))},"faction.edit":function(){return n.e(48).then(n.bind(null,"AcTO"))},"location.edit":function(){return n.e(51).then(n.bind(null,"2mjb"))},"task.edit":function(){return n.e(54).then(n.bind(null,"HVUv"))},"campaign.add":function(){return n.e(43).then(n.bind(null,"HBJR"))},"character.add":function(){return n.e(45).then(n.bind(null,"6vkb"))},"faction.add":function(){return n.e(47).then(n.bind(null,"F32m"))},"location.add":function(){return n.e(50).then(n.bind(null,"CsNj"))},"task.add":function(){return n.e(53).then(n.bind(null,"g4a/"))}},props:{modalKey:{type:String,default:null},side:{type:String,default:"right"}},data:function(){return{}},computed:{containerClasses:function(){this.sideClasses();return["bg-white shadow","p-6","absolute"]},sideClasses:function(){switch(this.side){case"right":return["right-0","inset-y-0","w-percent-80","md:w-percent-70","xxl:w-percent-60"];case"left":return["left-0","inset-y-0","w-percent-80","md:w-percent-70","xxl:w-percent-60"];case"bottom":return["bottom-0","inset-x-0","h-percent-70"]}},width:function(){return 0},takeover:function(){return this.$page.takeover[this.modalKey]},view:function(){return this.takeover?this.takeover.view:null},componentProps:function(){return this.takeover?this.takeover.props:null}},watch:{},created:function(){},mounted:function(){},methods:{closeTakeover:function(){this.$inertia.post(this.route("modal").url(),{action:"close"},{replace:!1,preserveState:!0,preserveScroll:!0,only:["takeover"]})}}},i=n("KHd+"),a=Object(i.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen h-screen overflow-hidden pointer-events-auto"},[n("div",{staticClass:"w-full h-full bg-black opacity-50",on:{click:t.closeTakeover}}),t._v(" "),n("div",{class:t.containerClasses},[t._t("default"),t._v(" "),t.view?[n(t.view,t._b({tag:"component"},"component",t.componentProps,!1))]:t._e()],2)])}),[],!1,null,null,null);e.a=a.exports},S1Fv:function(t,e,n){"use strict";var s={name:"Panel"},i=n("KHd+"),a=Object(i.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bg-white overflow-hidden rounded sm:rounded-lg shadow max-w-percent-90 mx-auto"},[this._t("default")],2)}),[],!1,null,null,null);e.a=a.exports},SL1t:function(t,e,n){"use strict";var s={name:"TextInput",components:{},inheritAttrs:!1,props:{id:{type:String,default:function(){return"text-input-".concat(this._uid)}},type:{type:String,default:"text"},value:String,label:String,errors:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{focus:function(){this.$refs.input.focus()},select:function(){this.$refs.input.select()},setSelectionRange:function(t,e){this.$refs.input.setSelectionRange(t,e)}}},i=n("KHd+"),a=Object(i.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.label?n("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700",attrs:{for:t.id}},[t._v("\n        "+t._s(t.label)+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"mt-1 relative rounded-md shadow-sm"},[n("input",t._b({ref:"input",staticClass:"form-input block w-full sm:text-sm sm:leading-5",class:{"pr-10 border-red-300 text-red-900 focus:border-red-300 focus:shadow-outline-red":t.errors.length},attrs:{id:t.id,type:t.type},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},"input",t.$attrs,!1)),t._v(" "),t.errors.length?n("div",{staticClass:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[n("svg",{staticClass:"h-5 w-5 text-red-500",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"}})])]):t._e()]),t._v(" "),t.errors.length?n("p",{staticClass:"mt-2 text-sm text-red-600"},[t._v(t._s(t.errors[0]))]):t._e()])}),[],!1,null,null,null);e.a=a.exports},Zc98:function(t,e,n){"use strict";var s=n("f/2o"),i={name:"PageHeader",components:{},props:{},data:function(){return{}},computed:{pageTitle:Object(s.c)("pageTitle")},watch:{},created:function(){},mounted:function(){},methods:{}},a=n("KHd+"),r=Object(a.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-6 mb-6 px-4 bg-white shadow md:flex md:items-center md:justify-between"},[e("div",{staticClass:"flex-1 min-w-0"},[e("h2",{staticClass:"text-2xl font-bold leading-7 sm:text-3xl sm:leading-9 sm:truncate"},[this._t("default",[this._v("\n                "+this._s(this.pageTitle)+"\n            ")])],2)]),this._v(" "),e("div",{staticClass:"mt-4 flex md:mt-0 md:ml-4"},[this._t("aside")],2)])}),[],!1,null,null,null);e.a=r.exports},a3pg:function(t,e,n){"use strict";var s={name:"Btn",components:{},props:{href:{type:String,default:""},color:{type:String,default:"indigo"},wide:{type:Boolean,default:!1}},data:function(){return{}},computed:{classes:function(){var t=["inline-flex","items-center","justify-center","px-4","py-2","border","border-transparent","text-sm","leading-5","font-medium","rounded-md","text-white","bg-".concat(this.color,"-600"),"hover:bg-".concat(this.color,"-500"),"focus:outline-none","focus:border-".concat(this.color,"-700"),"focus:shadow-outline-".concat(this.color),"active:bg-".concat(this.color,"-700"),"transition","ease-in-out","duration-150"];return this.wide&&t.push("w-full"),t}},watch:{},created:function(){},mounted:function(){},methods:{}},i=n("KHd+"),a=Object(i.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.href?n("span",{staticClass:"inline-flex rounded-md shadow-sm"},[n("inertia-link",t._g({class:t.classes,attrs:{href:t.href}},t.$listeners),[t._t("default")],2)],1):n("span",{staticClass:"inline-flex rounded-md shadow-sm"},[n("button",t._g({class:t.classes,attrs:{type:"button"}},t.$listeners),[t._t("default")],2)])}),[],!1,null,null,null);e.a=a.exports},by9P:function(t,e,n){"use strict";n.r(e);var s=n("BQuk"),i=n("cv7c"),a={name:"AutoCompleteSection",components:{Btn:n("a3pg").a,Icon:i.a,AutoComplete:s.a},props:{field:{type:Object,default:null,required:!0},model:{type:String,default:null,required:!0},searchField:{type:String,default:"name"}},data:function(){return{display:null}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{removeItem:function(t){this.$emit("remove-section",t)},itemSelect:function(t){this.display=t[this.searchField],this.$emit("item-select",t)}}},r=n("KHd+"),o=Object(r.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sm:border-t sm:border-gray-200 sm:py-3 last:border-b"},[n("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start"},[n("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2",attrs:{for:"username-"+t.field.index}},[t._v("\n            Username\n        ")]),t._v(" "),n("div",{staticClass:"mt-1 sm:mt-0 sm:col-span-2 flex items-center"},[n("div",{staticClass:"rounded-md shadow-sm flex-grow"},[n("auto-complete",{attrs:{id:"username-"+t.field.index,"default-data":t.field.label,model:t.model,placeholder:"Search for a "+t.model,field:t.searchField},on:{"autocomplete-select":t.itemSelect}})],1),t._v(" "),n("button",{staticClass:"ml-2 w-5",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeItem(t.field.index)}}},[t.field.label||t.display?n("icon",{attrs:{icon:"x-circle",color:"red-500"}}):t._e()],1)])])])}),[],!1,null,null,null);e.default=o.exports},f2QL:function(t,e,n){"use strict";var s={name:"LoadingButton",props:{loading:Boolean}},i=n("KHd+"),a=Object(i.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"flex items-center",attrs:{disabled:this.loading}},[this.loading?e("div",{staticClass:"btn-spinner mr-2"}):this._e(),this._v(" "),this._t("default")],2)}),[],!1,null,null,null);e.a=a.exports},hHuV:function(t,e,n){"use strict";(function(t){var s=n("vk7+"),i=n("Zc98"),a=n("SL1t"),r=n("f2QL"),o=n("E7jC"),l=n("xWf0"),c=n("f/2o"),u=n("BQuk"),d=n("cv7c"),m=n("by9P"),p=n("S1Fv"),f=n("a3pg"),g=n("NvZ5");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={name:"Edit",components:{QuickAccess:g.a,Btn:f.a,Panel:p.a,AutoCompleteSection:m.default,Icon:d.a,AutoComplete:u.a,SectionHeader:i.a,TextInput:a.a,LoadingButton:r.a,TrashedMessage:o.a,Wysiwyg:l.a},props:{campaign:{type:Object,default:function(){}}},data:function(){return{pageTitle:"Editing ".concat(this.campaign.title),pageDescription:"Updating a campaign.",sending:!1,playerFields:[],factionFields:[],characterFields:[],npcFields:[],locationFields:[],taskFields:[],showInviteForm:!1,form:{title:this.campaign.title,description:this.campaign.description,players:[],factions:[]}}},computed:{takeover:function(){return this.$page.takeover?this.$page.takeover:null},takeoverVisible:function(){return!!this.takeover&&!!Object.keys(this.$page.takeover).length},syncedPageTitle:Object(c.c)("pageTitle")},watch:{},created:function(){},mounted:function(){this.syncedPageTitle=this.pageTitle},methods:{submit:function(){var e=this;this.sending=!0,this.form.players=t.map(this.playerFields,"value"),this.$inertia.patch(this.route("campaigns.update",this.campaign.slug),this.form).then((function(){return e.sending=!1}))},destroy:function(){confirm("Are you sure you want to delete this campaign?")&&this.$inertia.delete(this.route("campaigns.destroy",this.campaign.slug))},restore:function(){confirm("Are you sure you want to restore this campaign?")&&this.$inertia.put(this.route("campaigns.restore",this.campaign.slug))},addField:function(e){var n=this[e],s=1,i=t.last(n);i&&(s=i.index+1),n.push({index:s,value:null})},selectItem:function(t,e,n){var s=this[n],i=t.id;s[e-1].value=i},removeItem:function(t,e){if(confirm("Are you sure you want to delete this ".concat(e,"?"))){var n=t-1;this["".concat(e,"Fields")].splice(n,1)}},getModal:function(t){this.$inertia.post(this.route("modal").url(),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({action:"open"},t),{replace:!1,preserveState:!0,preserveScroll:!0})}},layout:s.a,metaInfo:function(){return{title:this.pageTitle,meta:[{name:"description",content:this.pageDescription}]}}}}).call(this,n("LvDl"))},rV0r:function(t,e,n){"use strict";n.r(e);var s=n("hHuV").a,i=n("KHd+"),a=Object(i.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"h-screen container"},[n("section-header",[n("span",{staticClass:"text-gray-700"},[t._v("Editing:")]),t._v("\n        "+t._s(t.campaign.title)+"\n    ")]),t._v(" "),t.campaign.deleted_at?n("trashed-message",{staticClass:"mb-6",on:{restore:t.restore}},[t._v("\n        This campaign has been deleted.\n    ")]):t._e(),t._v(" "),n("form",{staticClass:"w-full p-4 bg-white rounded md:max-w-lg lg:max-w-xl xl:max-w-3xl mx-auto",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",[n("div",[n("div",[n("div",{staticClass:"sm:grid xl:grid-cols-3 xl:gap-4 xl:items-start xl:pt-5"},[n("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 xl:mt-px xl:pt-2",attrs:{for:"title"}},[t._v("\n                            Campaign Title\n                        ")]),t._v(" "),n("div",{staticClass:"mt-1 xl:mt-0 xl:col-span-2"},[n("text-input",{attrs:{id:"title"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)]),t._v(" "),n("div",{staticClass:"mt-6 sm:mt-5 xl:grid xl:grid-cols-3 xl:gap-4 xl:items-start xl:border-t xl:border-gray-200 xl:pt-5 pointer-events-none opacity-50"},[n("label",{staticClass:"block text-sm leading-5 font-medium text-gray-700 xl:mt-px xl:pt-2",attrs:{for:"cover_photo"}},[t._v("\n                            Cover photo\n                        ")]),t._v(" "),n("div",{staticClass:"mt-2 xl:mt-0 xl:col-span-2"},[n("div",{staticClass:"max-w-lg flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},[n("div",{staticClass:"text-center"},[n("svg",{staticClass:"mx-auto h-12 w-12 text-gray-400",attrs:{stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"}},[n("path",{attrs:{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),t._v(" "),n("p",{staticClass:"mt-1 text-sm text-gray-600"},[n("btn",{attrs:{type:"button"}},[t._v("\n                                            Upload a file\n                                        ")]),t._v("\n                                        or drag and drop\n                                    ")],1),t._v(" "),n("p",{staticClass:"mt-1 text-xs text-gray-500"},[t._v("\n                                        PNG, JPG, GIF up to 10MB\n                                    ")])])])])]),t._v(" "),n("div",{staticClass:"mt-6 xl:mt-5 xl:grid xl:grid-cols-3 xl:gap-4 xl:items-start xl:border-t xl:border-gray-200 xl:pt-5"},[n("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 xl:mt-px xl:pt-2",attrs:{for:"description"}},[t._v("\n                            Description\n                        ")]),t._v(" "),n("div",{staticClass:"mt-2 xl:mt-0 xl:col-span-2"},[n("div",{staticClass:"max-w-lg flex rounded-md shadow-sm"},[n("wysiwyg",{attrs:{id:"description"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("p",{staticClass:"mt-2 text-sm text-gray-500"},[t._v("\n                                Write a bit about your campaign.\n                            ")])])])])]),t._v(" "),n("div",{staticClass:"mt-6 border-t border-gray-200 pt-8 sm:mt-5"},[t._m(0),t._v(" "),n("div",{staticClass:"mt-6 sm:mt-5"},[n("div",{staticClass:"grid gap-4 md:grid-cols-2"},t._l(t.campaign.players,(function(e){return n("panel",{key:e.id,staticClass:"w-full sm:shadow-md"},[n("div",{staticClass:"p-4 grid grid-cols-1 grid-rows-3 gap-4"},[n("div",{staticClass:"row-span-2"},[n("p",{staticClass:"text-lg tracking-wide"},[t._v("\n                                        "+t._s(e.username)+"\n                                    ")]),t._v(" "),n("p",{staticClass:"text-sm"},[n("em",[t._v("\n                                            "+t._s(e.email)+"\n                                        ")])])]),t._v(" "),n("div",{staticClass:"w-full flex"},[n("btn",{staticClass:"ml-auto",attrs:{color:"gray"}},[t._v("\n                                        View Profile\n                                    ")])],1)])])})),1)]),t._v(" "),n("div",{staticClass:"mt-6 sm:mt-5"},[n("div",{staticClass:"bg-gray-50 overflow-hidden rounded-lg shadow-inner"},[n("div",{staticClass:"px-4 py-5 sm:p-6"},[n("transition-group",{attrs:{name:"fadeUp",tag:"div"}},[t._l(t.playerFields,(function(e){return[n("auto-complete-section",{key:e.index,staticStyle:{"animation-duration":"0.3s"},attrs:{field:e,model:"user","search-field":"username"},on:{"item-select":function(n){return t.selectItem(n,e.index,"playerFields")},"remove-section":function(e){return t.removeItem(e,"player")}}})]}))],2)],1)]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.showInviteForm?n("div",{staticClass:"py-6"},[n("div",{staticClass:"bg-gray-50 overflow-hidden rounded-lg shadow-inner"},[n("div",{staticClass:"px-4 py-5 sm:p-6"},[n("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700",attrs:{for:"email_invites"}},[t._v("\n                                        Email Invitations\n                                    ")]),t._v(" "),n("div",{staticClass:"mt-1 relative rounded-md shadow-sm"},[n("textarea",{staticClass:"form-input block w-full sm:text-sm sm:leading-5",attrs:{id:"email_invites",placeholder:"player_one@example.com, player_two@example.com"}})]),t._v(" "),n("p",{staticClass:"mt-2 text-sm text-gray-500"},[t._v("\n                                        Add as many emails as you'd like, comma\n                                        separated.\n                                    ")])])])]):t._e()]),t._v(" "),n("div",{staticClass:"sm:border-t sm:border-gray-200 sm:pt-6 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4"},[n("btn",{staticClass:"xl:col-start-2",attrs:{wide:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.showInviteForm=!0}}},[n("p",{staticClass:"mr-4"},[t._v("Invite via email")]),t._v(" "),n("icon",{attrs:{icon:"email",color:"white"}})],1),t._v(" "),n("btn",{attrs:{wide:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addField("playerFields")}}},[n("p",{staticClass:"mr-4"},[t._v("Link an existing player")]),t._v(" "),n("icon",{attrs:{icon:"plus",color:"white"}})],1)],1)],1)]),t._v(" "),n("div",{staticClass:"mt-6 border-t border-gray-200 pt-8 sm:mt-5"},[t._m(1),t._v(" "),n("div",{staticClass:"mt-6 sm:mt-5"},[n("div",{staticClass:"grid gap-4 md:grid-cols-2"},t._l(t.campaign.factions,(function(e){return n("panel",{key:e.id,staticClass:"w-full sm:shadow-md"},[n("div",{staticClass:"p-4 grid grid-cols-1 grid-rows-3 gap-4"},[n("div",{staticClass:"row-span-2"},[n("p",{staticClass:"text-lg tracking-wide"},[t._v("\n                                        "+t._s(e.name)+"\n                                    ")])]),t._v(" "),n("div",{staticClass:"w-full flex"},[n("btn",{staticClass:"ml-auto",attrs:{color:"gray"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.getModal({model:"faction",method:"show",slug:e.slug})}}},[t._v("\n                                        View\n                                    ")]),t._v(" "),n("btn",{staticClass:"ml-3",attrs:{color:"gray"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[t._v("\n                                        Edit\n                                    ")])],1)]),t._v(" "),t.takeover&&t.takeover[e.slug]&&t.takeoverVisible?n("portal",{attrs:{to:"right-panel"}},[n("quick-access",{attrs:{"modal-key":e.slug}})],1):t._e()],1)})),1)]),t._v(" "),n("div",{staticClass:"mt-6 sm:mt-5"},[t._l(t.factionFields,(function(e){return[n("auto-complete-section",{key:e.index,attrs:{field:e,model:"faction","search-field":"name"},on:{"item-select":function(n){return t.selectItem(n,e.index,"factionFields")},"remove-section":function(e){return t.removeItem(e,"faction")}}})]})),t._v(" "),n("div",{staticClass:"sm:border-t sm:border-gray-200 sm:pt-6 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3"},[n("btn",{staticClass:"sm:col-start-2 xl:col-start-3",attrs:{wide:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addField("factionFields")}}},[n("p",{staticClass:"mr-4"},[t._v("Add a faction")]),t._v(" "),n("icon",{attrs:{icon:"plus",color:"white"}})],1)],1)],2)]),t._v(" "),n("div",{staticClass:"mt-6 border-t border-gray-200 pt-8 sm:mt-5"},[t._m(2),t._v(" "),n("div",{staticClass:"mt-6 sm:mt-5"},[n("div",{staticClass:"grid gap-4 md:grid-cols-2"},t._l(t.campaign.npcs,(function(e){return n("panel",{key:e.id,staticClass:"w-full sm:shadow-md"},[n("div",{staticClass:"p-4 grid grid-cols-1 grid-rows-3 gap-4"},[n("div",{staticClass:"row-span-2"},[n("p",{staticClass:"text-lg tracking-wide"},[t._v("\n                                        "+t._s(e.name)+"\n                                    ")])]),t._v(" "),n("div",{staticClass:"w-full flex"},[n("btn",{staticClass:"ml-auto",attrs:{color:"gray"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[t._v("\n                                        View\n                                    ")]),t._v(" "),n("btn",{staticClass:"ml-3",attrs:{color:"gray"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[t._v("\n                                        Edit\n                                    ")])],1)])])})),1)]),t._v(" "),n("div",{staticClass:"mt-6 sm:mt-5"},[t._l(t.npcFields,(function(e){return[n("auto-complete-section",{key:e.index,attrs:{field:e,model:"npc","search-field":"name"},on:{"item-select":function(n){return t.selectItem(n,e.index,"npcFields")},"remove-section":function(e){return t.removeItem(e,"npc")}}})]})),t._v(" "),n("div",{staticClass:"sm:border-t sm:border-gray-200 sm:pt-6 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3"},[n("btn",{staticClass:"sm:col-start-2 xl:col-start-3",attrs:{wide:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addField("npcFields")}}},[n("p",{staticClass:"mr-4"},[t._v("Add a npc")]),t._v(" "),n("icon",{attrs:{icon:"plus",color:"white"}})],1)],1)],2)])]),t._v(" "),n("div",{staticClass:"mt-6 border-t border-gray-200 pt-5"},[n("div",{staticClass:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4"},[n("btn",{staticClass:"xl:col-start-2",attrs:{wide:"",type:"button",color:"gray"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[t._v("\n                    Cancel\n                ")]),t._v(" "),n("btn",{attrs:{wide:"",type:"submit"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[t._v("\n                    Save\n                ")])],1)])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900"},[this._v("\n                        Players\n                    ")]),this._v(" "),e("p",{staticClass:"mt-1 max-w-2xl text-sm leading-5 text-gray-500"},[this._v("\n                        The players currently in this campaign. Below, you can invite\n                        players to join your campaign.\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900"},[this._v("\n                        Factions\n                    ")]),this._v(" "),e("p",{staticClass:"mt-1 max-w-2xl text-sm leading-5 text-gray-500"},[this._v("\n                        This campaign's factions. Below, you can link existing\n                        factions or quickly create new ones.\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900"},[this._v("\n                        NPCs\n                    ")]),this._v(" "),e("p",{staticClass:"mt-1 max-w-2xl text-sm leading-5 text-gray-500"},[this._v("\n                        This campaign's NPCs. Below, you can link existing factions or\n                        quickly create new ones.\n                    ")])])}],!1,null,null,null);e.default=a.exports},xWf0:function(t,e,n){"use strict";var s=n("zUJn"),i=n("8j27"),a=n("cv7c"),r={name:"Wysiwyg",components:{EditorContent:s.b,EditorMenuBar:s.c,Icon:a.a},props:["value","label","rows"],data:function(){var t=this;return{editor:new s.a({content:this.value,extensions:[new i.a,new i.f,new i.g,new i.c({levels:[1,2,3,4]}),new i.d,new i.e,new i.h,new i.b,new i.i],onUpdate:function(e){var n=e.getJSON,s=e.getHTML;t.json=n(),t.html=s(),t.updateData()}}),json:"",html:""}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){this.editor.destroy()},methods:{updateData:function(){this.$emit("input",this.html)}}},o=n("KHd+"),l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full"},[t.label?n("p",{staticClass:"form-label"},[t._v(t._s(t.label))]):t._e(),t._v(" "),n("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.commands,i=e.isActive;return[n("div",{staticClass:"text-black flex items-center justify-start"},[n("div",{staticClass:"mr-1 md:mr-2"},[n("button",{class:{"is-active":i.bold()},on:{click:s.bold}},[n("icon",{attrs:{icon:"bold"}})],1),t._v(" "),n("button",{class:{"is-active":i.italic()},on:{click:s.italic}},[n("icon",{attrs:{icon:"italic"}})],1)]),t._v(" "),n("div",{staticClass:"mr-1 md:mr-2"},[n("button",{class:{"is-active":i.bullet_list()},attrs:{type:"button"},on:{click:s.bullet_list}},[n("icon",{attrs:{icon:"bullets"}})],1),t._v(" "),n("button",{class:{"is-active":i.ordered_list()},attrs:{type:"button"},on:{click:s.ordered_list}},[n("icon",{attrs:{icon:"numbered"}})],1)]),t._v(" "),n("div",{staticClass:"mr-1 md:mr-2"},[n("button",{class:{"is-active":i.heading({level:1})},attrs:{type:"button"},on:{click:function(t){return s.heading({level:1})}}},[n("icon",{attrs:{icon:"heading1"}})],1),t._v(" "),n("button",{class:{"is-active":i.heading({level:2})},attrs:{type:"button"},on:{click:function(t){return s.heading({level:2})}}},[n("icon",{attrs:{icon:"heading2"}})],1),t._v(" "),n("button",{class:{"is-active":i.heading({level:3})},attrs:{type:"button"},on:{click:function(t){return s.heading({level:3})}}},[n("icon",{attrs:{icon:"heading3"}})],1),t._v(" "),n("button",{class:{"is-active":i.heading({level:4})},attrs:{type:"button"},on:{click:function(t){return s.heading({level:4})}}},[n("icon",{attrs:{icon:"heading4"}})],1)]),t._v(" "),n("div",{staticClass:"mr-1 md:mr-2"},[n("button",{class:{"is-active":i.link()},on:{click:s.link}},[n("icon",{attrs:{icon:"link"}})],1),t._v(" "),n("button",{staticClass:"menubar__button",on:{click:s.horizontal_rule}},[n("icon",{attrs:{icon:"minus"}})],1)]),t._v(" "),n("div",{staticClass:"ml-auto"},[n("button",{attrs:{type:"button"},on:{click:s.undo}},[n("icon",{attrs:{icon:"undo"}})],1),t._v(" "),n("button",{attrs:{type:"button"},on:{click:s.redo}},[n("icon",{attrs:{icon:"redo"}})],1)])])]}}])}),t._v(" "),n("editor-content",{attrs:{editor:t.editor}})],1)}),[],!1,null,null,null);e.a=l.exports}}]);